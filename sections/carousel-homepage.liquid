<div class="slideshow" id="slideshow-{{ section.id }}"></div>

  <!-- Swiper -->
  <div class="swiper-container">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <video autoplay loop playsinline muted class="first d-none d-sm-block" preload="auto" >
          <source src="{{'1920x640-HOME_compressed.mp4' | asset_url}}" type="video/mp4"/>
        </video>
        <video autoplay loop playsinline muted class="first d-block d-sm-none" preload="auto">
          <source src="{{'1000x860-HOME-Mobile-compressed.mp4' | asset_url}}" type="video/mp4"/>
        </video>
      </div>

      <div class="swiper-slide">
        <div class="image-container">
          <a href="products/fresch">
            <img src="{{'home-product-fresch.png'|asset_url}}"  class="product-image" />
            <img src="{{'home-headline-fresch.svg'|asset_url}}"  class="headline-image d-none d-sm-block" />
            <img src="{{'mobile-headline-fresch.svg'|asset_url}}"  class="headline-image mobile d-block d-sm-none" />
          </a>
        </div>
        <video autoplay loop playsinline muted preload="auto">
          <source src="{{'1920x640-FRESCH_compressed.mp4' | asset_url}}"  type="video/mp4"/>
        </video>          
      </div>

      <div class="swiper-slide">
        <div class="image-container">
          <a href="products/prevnt">
          <img src="{{'home-product-prevnt.png'|asset_url}}"  class="product-image" />
          <img src="{{'home-headline-prevnt.svg'|asset_url}}"  class="headline-image d-none d-sm-block" />
          <img src="{{'mobile-headline-prevnt.svg'|asset_url}}" class="headline-image mobile d-block d-sm-none" />
          </a>
        </div>
        <video autoplay loop playsinline muted preload="auto">
          <source src="{{'1920x640-PREVNT_compressed.mp4' | asset_url}}"   type="video/mp4"/>
        </video> 
      </div>
<!---


      <div class="swiper-slide">
        <div class="image-container">
          <img src="{{'home-product-nspect.png'|asset_url}}" class="product-image" />
          <img src="{{'home-headline-nspect.svg'|asset_url}}"  class="headline-image d-none d-sm-block" />
          <img src="{{'mobile-headline-nspect.svg'|asset_url}}"  class="headline-image mobile d-block d-sm-none" />       
        </div>
        <video autoplay loop playsinline muted preload="auto">
          <source src="{{'1920x640-NSPECT.mp4' | asset_url}}"  type="video/mp4"/>
        </video>          
      </div>
    -->
      <div class="swiper-slide">
        <div class="image-container">
          <a href="products/citrapur">
            <img src="{{'home-product-citrapur.png'|asset_url}}"  class="product-image" />
            <img src="{{'home-headline-citrapur.svg'|asset_url}}"  class="headline-image d-none d-sm-block" />
            <img src="{{'mobile-headline-citrapur.svg'|asset_url}}"  class="headline-image mobile d-block d-sm-none" />
          </a>
        </div>
        <video autoplay loop playsinline muted preload="auto">
          <source src="{{'1920x640-CITRAPUR_compressed.mp4' | asset_url}}"  type="video/mp4"/>
        </video> 
      </div>

      
    </div>
      <!-- Add Arrows -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <!-- Add Pagination -->
      <div class="swiper-pagination"></div>
  </div>




  <!-- Swiper JS -->
 

  <!-- Initialize Swiper -->
{% javascript %}
    var homepageSwiper = new Swiper('.carousel-homepage .swiper-container', {
      speed: 500,
      preloadImages:true,
      centeredSlides: true,
      loop:true,
      autoplay: {
        delay: 8000,
        disableOnInteraction: true,
      },
      pagination: {
        el: '.carousel-homepage .swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.carousel-homepage .swiper-button-next',
        prevEl: '.carousel-homepage .swiper-button-prev',
      },
    });

    homepageSwiper.on('slideChange', function(){
      var video = document.querySelectorAll('.carousel-homepage .swiper-container .swiper-slide-active video')[0]
      //debugger;
      video.pause();
      video.currentTime = 0;
      video.play();
    });
{% endjavascript %}







<style>
  #shopify-section-{{ section.id }} .swiper-button-prev {
    background-image: url({{'arrow-left.svg' | asset_url}}) !important;
    background-repeat: no-repeat;
    top:45%;
  }

  #shopify-section-{{ section.id }} .swiper-button-next {
    background-image: url({{'arrow-right.svg' | asset_url}}) !important;
    background-repeat: no-repeat;
    top:45%;
  }

</style>

{% stylesheet %}
  .carousel-homepage {
    margin-bottom: 2%;
  }
  
  .carousel-homepage .swiper-button-next:after {
    content:""  !important;
  }

  .carousel-homepage .swiper-button-prev:after {
    content:""  !important;
  }

  .carousel-homepage .swiper-container {
    width: 100%;
    height: min(72vw,740px);
  }
  @media (max-width: 576px) { 
    .carousel-homepage .swiper-container {
      width: 100%;
      height: min(124vw,1024px);
    }
  }



  .carousel-homepage .swiper-slide {
    width: 100%;
    text-align: center;
    font-size: 18px;
    background: #fff;

    /* Center slide text vertically */
    display: -webkit-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
    overflow: hidden;
    height: 755px;
  }

  .carousel-homepage .swiper-slide video2 {
    position: absolute;
    top: 50%;
    left: 50%;
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    z-index: 0;
    -ms-transform: translateX(-50%) translateY(-50%);
    -moz-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    text-align: center;
  }

  .carousel-homepage .swiper-slide video.first {
    object-fit:cover;
  }

  .carousel-homepage .swiper-slide video {
    align-self: start;
    height: min(60vw,640px);
    object-position: top;
    z-index: 0;
  }
  .carousel-homepage .swiper-container .swiper-pagination {
    top: min(60vw,640px);
  }
  @media (max-width: 576px) { 
    .carousel-homepage .swiper-slide video {
      height: min(102vw,640px);
      width: auto;
    }
    .carousel-homepage .swiper-container .swiper-pagination {
      top: min(102vw,640px);
    }

  }

  .carousel-homepage .image-container {
    display: flex;
    justify-content: center;
    position: absolute;
    height: 755px;
    width: min(100%,1024px);
    object-fit: contain;
    top:0;
  }

  @media (max-width: 576px) { 
    .carousel-homepage .image-container {
      width: 100%;
      height: min(143vw,1024px);
    }
  }

  .carousel-homepage .swiper-slide .product-image {
    object-fit:fill;
    height: auto; /*min(70vw,755px);/**/
    width: max(100%,500px);/**/
    z-index: 1;
    position: absolute;
    margin-top:0px;
    top:max(-20%,-85px);
    padding-left:20px;
    left:0;
  }

  @media (max-width: 576px) { 
    .carousel-homepage  .swiper-slide .product-image {
      width: min(145%,902px);/**/
      margin-top: max(10%,60px);
    }
  }

  .carousel-homepage .swiper-slide.swiper-slide-active .product-image {
    animation: slide .7s forwards;
    animation-delay: .25s;
    z-index: 1;
    left: -600px;
  }

  .carousel-homepage .swiper-slide.swiper-slide-active .product-image.from-right {
    animation: slide-from-right .7s forwards;
    left: inherit;
    right: -600px;
  }

  .carousel-homepage .swiper-slide .headline-image {
    object-fit:fill;
    height: auto; /*min(80vw,800px);*/
    width: min(100%,1096px);
    z-index: 2;
    position: absolute;
    margin-top:max(-10%,-123px);
    top:0;
    padding-right:20px;
    right:0;
  }

  .carousel-homepage .swiper-slide.swiper-slide-active .headline-image {
    animation: slide-from-right .7s forwards;
    animation-delay: .15s;
    right: -600px;
  }

  .carousel-homepage .swiper-slide .headline-image.mobile {
    margin-top:0vw;
    padding:0;
  }

  @keyframes slide-from-right {
    100% { right: 0; }
  }

  @keyframes slide {
    100% { left: 0; }
  }

  @media (max-width: 576px) { 
    @keyframes slide {
      100% { left: -9vw; }
    }
  }

  .carousel-homepage  .swiper-pagination {
    margin-bottom: 65px;
  }
  
  .carousel-homepage  .swiper-container .swiper-pagination-bullet.swiper-pagination-bullet-active {
    background-color:#76BC21;
  }
{% endstylesheet %}




{%schema%}
{
  "name": "Carousel",
  "class":"carousel-homepage",
  "presets": [
    {
      "category": "Homepage Sections",
      "name":"Carousel"
      
    }
  ]
}
{%endschema%}
